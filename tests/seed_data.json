{
  "stocks": [
    {
      "symbol": "AAPL",
      "name": "Apple Inc.",
      "exchange": "NASDAQ",
      "sector": "Technology",
      "price": 175.43,
      "open": 174.50,
      "dayHigh": 176.20,
      "dayLow": 173.80,
      "previousClose": 174.25,
      "dividendYield": 0.52,
      "dividendAmount": 0.96,
      "peRatio": 28.5,
      "marketCap": 2750000000000,
      "volume": 52000000,
      "yearHigh": 198.23,
      "yearLow": 164.08,
      "change": 1.18,
      "changePercent": 0.68
    },
    {
      "symbol": "MSFT",
      "name": "Microsoft Corporation",
      "exchange": "NASDAQ",
      "sector": "Technology",
      "price": 378.91,
      "open": 377.25,
      "dayHigh": 380.15,
      "dayLow": 376.50,
      "previousClose": 377.00,
      "dividendYield": 0.89,
      "dividendAmount": 3.00,
      "peRatio": 35.2,
      "marketCap": 2810000000000,
      "volume": 24000000,
      "yearHigh": 384.30,
      "yearLow": 309.45,
      "change": 1.91,
      "changePercent": 0.51
    },
    {
      "symbol": "JNJ",
      "name": "Johnson & Johnson",
      "exchange": "NYSE",
      "sector": "Healthcare",
      "price": 158.75,
      "open": 158.20,
      "dayHigh": 159.40,
      "dayLow": 157.90,
      "previousClose": 158.00,
      "dividendYield": 3.00,
      "dividendAmount": 4.76,
      "peRatio": 24.1,
      "marketCap": 382000000000,
      "volume": 6500000,
      "yearHigh": 168.85,
      "yearLow": 143.13,
      "change": 0.75,
      "changePercent": 0.47,
      "isAristocrat": true,
      "consecutiveYears": 61
    },
    {
      "symbol": "PG",
      "name": "Procter & Gamble",
      "exchange": "NYSE",
      "sector": "Consumer Staples",
      "price": 155.20,
      "open": 154.80,
      "dayHigh": 155.90,
      "dayLow": 154.50,
      "previousClose": 154.75,
      "dividendYield": 2.45,
      "dividendAmount": 3.80,
      "peRatio": 24.5,
      "marketCap": 365000000000,
      "volume": 5200000,
      "yearHigh": 165.35,
      "yearLow": 142.56,
      "change": 0.45,
      "changePercent": 0.29,
      "isAristocrat": true,
      "consecutiveYears": 67
    },
    {
      "symbol": "T",
      "name": "AT&T Inc.",
      "exchange": "NYSE",
      "sector": "Telecommunications",
      "price": 18.25,
      "open": 18.15,
      "dayHigh": 18.35,
      "dayLow": 18.05,
      "previousClose": 18.20,
      "dividendYield": 6.15,
      "dividendAmount": 1.11,
      "peRatio": 8.3,
      "marketCap": 130000000000,
      "volume": 42000000,
      "yearHigh": 19.47,
      "yearLow": 15.94,
      "change": 0.05,
      "changePercent": 0.27
    }
  ],
  "historicalPrices": {
    "AAPL": [
      {
        "date": "2024-01-15",
        "open": 183.92,
        "high": 186.40,
        "low": 183.89,
        "close": 185.59,
        "volume": 54505300
      },
      {
        "date": "2024-01-16",
        "open": 184.35,
        "high": 186.40,
        "low": 183.92,
        "close": 185.92,
        "volume": 48744700
      },
      {
        "date": "2024-01-17",
        "open": 185.19,
        "high": 186.68,
        "low": 184.21,
        "close": 185.04,
        "volume": 45157600
      },
      {
        "date": "2024-06-01",
        "open": 190.28,
        "high": 192.57,
        "low": 189.91,
        "close": 192.25,
        "volume": 53103900
      },
      {
        "date": "2024-12-01",
        "open": 175.20,
        "high": 176.82,
        "low": 174.33,
        "close": 175.43,
        "volume": 52000000
      }
    ],
    "MSFT": [
      {
        "date": "2024-01-15",
        "open": 370.25,
        "high": 373.50,
        "low": 369.80,
        "close": 372.91,
        "volume": 22345000
      },
      {
        "date": "2024-06-01",
        "open": 380.50,
        "high": 383.20,
        "low": 379.10,
        "close": 381.45,
        "volume": 25600000
      }
    ]
  },
  "dividends": {
    "AAPL": [
      {
        "exDate": "2024-11-08",
        "paymentDate": "2024-11-14",
        "amount": 0.24,
        "frequency": "quarterly"
      },
      {
        "exDate": "2024-08-09",
        "paymentDate": "2024-08-15",
        "amount": 0.25,
        "frequency": "quarterly"
      },
      {
        "exDate": "2024-05-10",
        "paymentDate": "2024-05-16",
        "amount": 0.24,
        "frequency": "quarterly"
      },
      {
        "exDate": "2024-02-09",
        "paymentDate": "2024-02-15",
        "amount": 0.24,
        "frequency": "quarterly"
      },
      {
        "exDate": "2023-11-10",
        "paymentDate": "2023-11-16",
        "amount": 0.24,
        "frequency": "quarterly"
      }
    ],
    "JNJ": [
      {
        "exDate": "2024-11-25",
        "paymentDate": "2024-12-10",
        "amount": 1.19,
        "frequency": "quarterly"
      },
      {
        "exDate": "2024-08-26",
        "paymentDate": "2024-09-10",
        "amount": 1.19,
        "frequency": "quarterly"
      },
      {
        "exDate": "2024-05-28",
        "paymentDate": "2024-06-11",
        "amount": 1.19,
        "frequency": "quarterly"
      },
      {
        "exDate": "2024-02-26",
        "paymentDate": "2024-03-12",
        "amount": 1.19,
        "frequency": "quarterly"
      }
    ]
  },
  "testCases": {
    "currentData": [
      {
        "name": "Get AAPL current price",
        "formula": "=DIVV(\"AAPL\", \"price\")",
        "expected": 175.43,
        "tier": "free"
      },
      {
        "name": "Get MSFT dividend yield",
        "formula": "=DIVV(\"MSFT\", \"dividendYield\")",
        "expected": 0.89,
        "tier": "free"
      },
      {
        "name": "Get JNJ dividend amount",
        "formula": "=DIVV(\"JNJ\", \"dividendAmount\")",
        "expected": 4.76,
        "tier": "free"
      },
      {
        "name": "Get PG day high",
        "formula": "=DIVV(\"PG\", \"dayHigh\")",
        "expected": 155.90,
        "tier": "free"
      },
      {
        "name": "Get T previous close",
        "formula": "=DIVV(\"T\", \"previousClose\")",
        "expected": 18.20,
        "tier": "free"
      },
      {
        "name": "Get AAPL PE ratio (paid)",
        "formula": "=DIVV(\"AAPL\", \"peRatio\")",
        "expected": 28.5,
        "tier": "paid"
      },
      {
        "name": "Get MSFT market cap (paid)",
        "formula": "=DIVV(\"MSFT\", \"marketCap\")",
        "expected": 2810000000000,
        "tier": "paid"
      },
      {
        "name": "Get JNJ volume (paid)",
        "formula": "=DIVV(\"JNJ\", \"volume\")",
        "expected": 6500000,
        "tier": "paid"
      }
    ],
    "historicalData": [
      {
        "name": "Get AAPL historical price on 2024-01-15",
        "formula": "=DIVV(\"AAPL\", \"close\", \"2024-01-15\")",
        "expected": 185.59,
        "tier": "paid"
      },
      {
        "name": "Get AAPL historical open on 2024-01-16",
        "formula": "=DIVV(\"AAPL\", \"open\", \"2024-01-16\")",
        "expected": 184.35,
        "tier": "paid"
      },
      {
        "name": "Get MSFT historical close on 2024-01-15",
        "formula": "=DIVV(\"MSFT\", \"close\", \"2024-01-15\")",
        "expected": 372.91,
        "tier": "paid"
      },
      {
        "name": "Get AAPL historical range Jan 15-17",
        "formula": "=DIVV(\"AAPL\", \"close\", \"2024-01-15\", \"2024-01-17\")",
        "expected": [
          ["Date", "close"],
          ["2024-01-15", 185.59],
          ["2024-01-16", 185.92],
          ["2024-01-17", 185.04]
        ],
        "tier": "paid"
      }
    ],
    "dividendHistory": [
      {
        "name": "Get AAPL last 3 dividends",
        "formula": "=DIVVDIVIDENDS(\"AAPL\", 3)",
        "expected": [
          ["Date", "Amount", "Frequency"],
          ["2024-11-08", 0.24, "quarterly"],
          ["2024-08-09", 0.25, "quarterly"],
          ["2024-05-10", 0.24, "quarterly"]
        ],
        "tier": "paid"
      },
      {
        "name": "Get JNJ last 2 dividends",
        "formula": "=DIVVDIVIDENDS(\"JNJ\", 2)",
        "expected": [
          ["Date", "Amount", "Frequency"],
          ["2024-11-25", 1.19, "quarterly"],
          ["2024-08-26", 1.19, "quarterly"]
        ],
        "tier": "paid"
      }
    ],
    "aristocratDetection": [
      {
        "name": "Check if JNJ is Aristocrat",
        "formula": "=DIVVARISTOCRAT(\"JNJ\")",
        "expected": true,
        "tier": "paid"
      },
      {
        "name": "Check if PG is Aristocrat",
        "formula": "=DIVVARISTOCRAT(\"PG\")",
        "expected": true,
        "tier": "paid"
      },
      {
        "name": "Get JNJ consecutive years",
        "formula": "=DIVVARISTOCRAT(\"JNJ\", true)",
        "expected": 61,
        "tier": "paid"
      },
      {
        "name": "Check if AAPL is Aristocrat",
        "formula": "=DIVVARISTOCRAT(\"AAPL\")",
        "expected": false,
        "tier": "paid"
      }
    ],
    "tierRestrictions": [
      {
        "name": "Free tier blocked on PE ratio",
        "formula": "=DIVV(\"AAPL\", \"peRatio\")",
        "expected": "#UPGRADE: This attribute requires a paid plan. Visit divv.com/pricing",
        "tier": "free",
        "shouldFail": true
      },
      {
        "name": "Free tier blocked on historical data",
        "formula": "=DIVV(\"AAPL\", \"close\", \"2024-01-15\")",
        "expected": "#UPGRADE: Historical data requires a paid plan. Visit divv.com/pricing",
        "tier": "free",
        "shouldFail": true
      },
      {
        "name": "Free tier blocked on dividend history",
        "formula": "=DIVVDIVIDENDS(\"AAPL\", 12)",
        "expected": "#UPGRADE: Dividend history requires a paid plan. Visit divv.com/pricing",
        "tier": "free",
        "shouldFail": true
      },
      {
        "name": "Free tier blocked on Aristocrat check",
        "formula": "=DIVVARISTOCRAT(\"JNJ\")",
        "expected": "#UPGRADE: Aristocrat detection requires a paid plan. Visit divv.com/pricing",
        "tier": "free",
        "shouldFail": true
      }
    ]
  }
}
